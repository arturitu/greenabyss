var IconCloseGeometry = require('./IconCloseGeometry');
var IconReplayGeometry = require('./IconReplayGeometry');
var IconVRGeometry = require('./IconVRGeometry');

var __geometries = [];

function generateGeometry(params) {
	switch(params.name) {
		case 'close': return new IconCloseGeometry(params);
		case 'replay': return new IconReplayGeometry(params);
		case 'vr': return new IconVRGeometry(params);
		default: 
			throw new Error('icon not specified.');
	}
}

function getGeometry(params) {
	var hash = JSON.stringify(params);
	if(!__geometries[hash]) {
		__geometries[hash] = generateGeometry(params);
	}
	return __geometries[hash];
}

module.exports = getGeometry;